<!DOCTYPE html>
<html lang="en" translate="no">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui"> -->
</head>

<body>
<div><H3>我是杨建龙</H3></div>
  <div>  
      function getUrl(URL) {
            let http = (window.location.protocol === 'http:' ? 'http:' : 'https:');
            //调用跨域API
            let realurl = http + '//cors-anywhere.herokuapp.com/' + URL;
            axios.get(realurl).then((response) => {
                // console.log(response)
                let html = response.data;
                html = html.replace(/data-src/g, "src")
                    .replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/g, '')
                    .replace(/https/g, 'http');
                //let html_src = 'data:text/html;charset=utf-8,' + html;
                let html_src = html;
                let iframe = document.getElementById('iFrame');
                iframe.src = html_src;
                var doc = iframe.contentDocument || iframe.document;
                doc.write(html_src);
                doc.getElementById("js_content").style.visibility = "visible";
                //var doc = iframe.contentDocument || iframe.document;
                //doc.body.innerHTML = html_src;
                //iframe.document.getElementsByTagName('body').innerHTML = html_src;
            }, (err) => {
                console.log(err);
            });
        }
        //调用getUrl方法，url为微信公众号文章链接
        var url = "https://mp.weixin.qq.com/s/KGCSF0yjDea1fLNPaC7mTA";
        getUrl(url);
  </div>
</body>

</html>
